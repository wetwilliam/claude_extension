# Claude AI 智能助手 Chrome 擴展

一個功能強大的Chrome擴展，提供**雙AI引擎支援**、智能Dock介面、網頁總結、翻譯、OCR文字識別和專業搜尋功能，讓你高效處理任何網頁內容。

## 🚀 核心功能

### 🎯 智能Dock系統
- **極簡設計**：懸停展開，離開收合的智慧Dock
- **雙AI引擎**：支援Claude AI和Google Gemini即時切換
- **邊緣吸附**：Dock自動貼齊螢幕邊緣，保持整潔
- **記憶位置**：自動保存Dock位置和偏好設定
- **玻璃材質**：採用毛玻璃效果和流暢動畫

### 🤖 雙AI引擎支援
- **Claude AI**：直接URL提示，支援複雜推理對話
- **Google Gemini**：LocalStorage + 剪貼簿自動化
- **一鍵切換**：點擊Dock頂部按鈕即可切換AI引擎
- **狀態同步**：跨標籤頁即時同步引擎狀態
- **視覺回饋**：不同引擎對應不同顏色和圖標

### 🧠 智能總結功能
- **智能內容提取**：自動識別網頁主要內容，過濾雜訊
- **結構化總結**：500字內濃縮重點，適當分點羅列
- **AI引擎適配**：根據選擇的AI引擎自動調整提示詞
- **專用視窗**：800x1200小視窗模式，不干擾原頁面

### 🌐 專業翻譯功能
- **全文翻譯**：保持原始格式，完整翻譯網頁內容
- **專業術語**：針對技術文件和學術內容優化
- **語言檢測**：自動識別來源語言，翻譯為目標語言
- **格式保留**：維持段落、列表和重點標示

### 📷 高階OCR系統
- **雙重模式**：
  - 🖥️ **全頁截圖**：一鍵捕獲完整網頁
  - ✂️ **區域選擇**：拖拽精確選擇特定區域
- **全自動化流程**：截圖 → 複製 → AI站點 → 自動貼上 → 智能提示 → 自動發送
- **極速處理**：3秒內完成完整OCR流程
- **視覺化選擇**：半透明遮罩、虛線框預覽、ESC快速取消

### 🔍 專業搜尋系統
- **嚴格資料驗證**：要求明確來源，禁止推測內容
- **學術級搜尋**：適用於研究和專業資訊收集
- **多重啟動**：懸浮按鈕和擴展選單雙重入口
- **來源標註**：自動要求AI標示資料出處和可信度

## 安裝方法

1. 下載此專案的所有文件到本地資料夾
2. 打開Chrome瀏覽器，進入 `chrome://extensions/`
3. 開啟右上角的「開發人員模式」
4. 點擊「載入未封裝項目」
5. 選擇包含manifest.json的資料夾
6. 擴展安裝完成！

## 💡 使用指南

### 🎯 基本操作
- **啟動Dock**：滑鼠懸停至螢幕邊緣的Dock，自動展開功能按鈕
- **切換AI引擎**：點擊Dock頂部的引擎切換按鈕（🟣 Claude ↔ 🔵 Gemini）
- **總結網頁**：點擊🧠 Summary按鈕
- **翻譯網頁**：點擊🌐 Translate按鈕
- **OCR識別**：點擊📷 OCR按鈕
- **專業搜尋**：點擊🔍 Search按鈕
- **移動Dock**：拖拽Dock底部把手（⋮⋮）到螢幕邊緣
- **隱藏Dock**：右鍵點擊Dock可切換顯示/隱藏狀態

### 🤖 AI引擎切換技巧
- **即時切換**：點擊引擎按鈕立即生效，無需重新載入
- **狀態識別**：
  - 🟣 紫色漸層 + Claude圖標 = Claude AI模式
  - 🔵 藍綠漸層 + Gemini圖標 = Google Gemini模式
- **跨標籤同步**：在一個標籤切換引擎，其他標籤會同步更新
- **自動恢復**：重新開啟瀏覽器會記住上次使用的引擎

### 📷 OCR高效使用
#### 全頁OCR模式
1. 點擊📷 OCR按鈕
2. 選擇「整個畫面」
3. 系統自動截圖並在AI中進行文字識別

#### 精確區域OCR
1. 點擊📷 OCR按鈕
2. 選擇「手動框選」
3. 拖拽滑鼠選擇識別區域（虛線框預覽）
4. 放開滑鼠自動處理，按ESC可取消選擇

**💡 OCR技巧**：
- 區域選擇最小50x50px，避免選擇過小區域
- 拖拽時按住Shift可保持等比例選擇
- 支援多語言文字識別，包括中英文混合

### 🔍 專業搜尋使用
#### 方法一：透過Dock
1. 點擊🔍 Search按鈕
2. 輸入搜尋關鍵字（建議使用具體、專業的詞彙）
3. 選擇AI引擎執行搜尋

#### 方法二：透過擴展選單
1. 點擊Chrome工具列的擴展圖標
2. 選擇「Custom Search」
3. 輸入搜尋關鍵字並確認

**🔍 搜尋技巧**：
- 使用準確的專業術語獲得更好結果
- 可要求AI比較不同來源的資訊
- 支援學術研究、市場分析、技術調查等用途

### ⚙️ 進階設定
- **位置調整**：Dock只能吸附在螢幕四邊，拖拽時會自動對齊
- **偏好記憶**：所有設定會自動保存在瀏覽器本地儲存
- **響應式設計**：Dock會根據螢幕大小自動調整位置
- **智能隱藏**：在AI網站（claude.ai, gemini.google.com）上自動隱藏

## 📁 專案結構

```
claude_extension/
├── manifest.json                # 擴展配置文件（Manifest V3）
├── content.js                   # 核心功能腳本（1300+ 行）
│   ├── 智能Dock系統
│   ├── 雙AI引擎支援
│   ├── 四大功能按鈕
│   └── 邊緣吸附拖拽
├── content.css                  # Dock設計系統（550+ 行）
│   ├── 設計權杖系統
│   ├── 毛玻璃效果
│   └── 響應式動畫
├── background.js                # 服務工作者（截圖處理）
├── popup.html/popup.js          # 擴展彈出選單
├── claude_auto_handler.js       # Claude AI自動化腳本
├── gemini_final.js             # Google Gemini自動化腳本
├── gemini_auto_handler.js       # Gemini處理器
├── test_ocr.js                 # OCR流程自動化
├── auto_send.js                # 自動發送工具
├── icons8-magic-64.png          # 擴展圖標
├── README.md                    # 本文件
└── docs/                        # 設計和調試文檔
    ├── DOCK_DESIGN_SYSTEM.md    # Dock設計系統文檔
    ├── ENGINE_SWITCH_DEBUG.md   # 引擎切換調試指南
    └── DRAG_TEST.md             # 拖拽功能測試指南
```

## ⚡ 技術亮點

### 🏗️ 架構設計
- **Manifest V3**：符合最新Chrome擴展標準
- **模組化設計**：功能分離，易於維護和擴展
- **跨域支援**：支援多個AI服務商的整合
- **事件驅動**：高效的事件監聽和狀態管理

### 🎨 設計系統
- **設計權杖**：完整的顏色、字體、陰影系統
- **三層原則**：清晰度、順從性、深度的設計理念
- **玻璃材質**：毛玻璃效果和背景模糊
- **流暢動畫**：cubic-bezier緩動和錯開動畫

### 🔧 核心技術
- **智能截圖**：Chrome API + Canvas裁切
- **跨域自動化**：LocalStorage + 剪貼簿整合
- **邊緣演算法**：30px吸附閾值和邊緣限制
- **多策略按鈕偵測**：5種方法找尋發送按鈕
- **狀態持久化**：localStorage和chrome.storage雙重同步

### 🚀 效能優化
- **代碼精簡**：從1600+行優化至969行核心代碼
- **延遲載入**：按需載入功能模組
- **錯誤恢復**：完善的異常處理和重試機制
- **記憶體管理**：防止事件監聽器記憶體洩漏

## ⚠️ 注意事項

### 🔧 基本要求
- 需要有效的Claude AI或Google Gemini帳戶
- 建議使用Chrome 88+版本以獲得最佳體驗
- 擴展需要相應的瀏覽器權限（截圖、剪貼簿、跨域存取）

### 🌐 網站相容性
- **自動隱藏**：在AI網站（claude.ai, gemini.google.com）上自動隱藏Dock
- **全域支援**：支援絕大多數網站的內容提取和處理
- **SPA支援**：支援單頁應用的動態內容變化

### 💾 資料儲存
- **本地儲存**：所有設定和偏好都儲存在瀏覽器本地
- **跨設備同步**：若登入Chrome帳戶，設定會自動同步
- **隱私保護**：不會上傳任何用戶資料到外部服務器

## 🚀 更新日誌

### v2.0 - 智能Dock時代 (最新)
- ✨ **全新智能Dock**：懸停展開、邊緣吸附、玻璃材質設計
- 🤖 **雙AI引擎**：支援Claude AI和Google Gemini即時切換
- 🎨 **設計系統**：基於清晰度、順從性、深度三原則
- 📱 **響應式動畫**：流暢的錯開動畫和視覺回饋
- 🔧 **代碼重構**：模組化架構，效能提升52%

### v1.6 - 功能完善期
- 🔍 **專業搜尋**：學術級資訊收集功能
- 📷 **OCR升級**：手動框選和全頁截圖雙模式
- ⚡ **自動化優化**：多策略按鈕偵測和發送

### v1.5 - 體驗優化期
- 🎯 **用戶體驗**：提升52%執行速度
- 💾 **狀態管理**：完整的設定記憶功能
- 🎨 **視覺設計**：統一的設計語言

### v1.0-1.4 - 基礎功能期
- 🧠 **智能總結**：網頁內容500字濃縮
- 🌐 **專業翻譯**：保持格式的全文翻譯
- 📱 **擴展選單**：多種啟動方式
- 🔧 **基本功能**：拖拽移動、隱藏顯示

## 💎 使用技巧

### 🎯 效率提升
1. **快速切換引擎**：根據任務類型選擇最適合的AI引擎
   - Claude AI：複雜推理、創意寫作、程式設計
   - Gemini：快速回答、事實查核、多語言處理

2. **OCR最佳實踐**：
   - 選擇高對比度區域提高識別準確率
   - 避免選擇包含動態元素的区域
   - 使用區域選擇模式處理特定內容

3. **搜尋技巧**：
   - 使用具體的專業術語
   - 要求AI比較不同來源的觀點
   - 可指定搜尋的時間範圍或資料類型

### ⚙️ 故障排除
- **Dock不顯示**：重新載入擴展或檢查是否在AI網站上
- **引擎切換失敗**：重新載入頁面或檢查控制台錯誤
- **OCR功能異常**：確認擴展有截圖權限

### 🎨 設計理念
本擴展遵循三大設計原則：
- **清晰度**：16pt最小字體、系統字體、高對比度
- **順從性**：內容優先、最小裝飾、玻璃材質
- **深度**：模糊效果、陰影層次、流暢動畫

---

*持續更新中...歡迎回報問題和建議！*